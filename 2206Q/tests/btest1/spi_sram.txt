wm 30080000 80000001

######### SPI SRAM ######################

#DEBUG WB USER ACCESS WRITE Address : 30080000, Data : 00000001
#DEBUG WB USER ACCESS READ Address : 30020004, Data : 00000003
#DEBUG WB USER ACCESS WRITE Address : 30020004, Data : 00000003
#DEBUG WB USER ACCESS WRITE Address : 30080004, Data : 00000000
#DEBUG WB USER ACCESS WRITE Address : 30080004, Data : 00001000

wm  30080000 80000000
wm  30080000 80000001
wm  30020004 00000003
wm  30080004 80001000


#send reset command to switch to SINGLE PHASE
#wb_user_core_write(`ADDR_SPACE_QSPI+`QSPIM_IMEM_CTRL1,{16'h0,1'b0,1'b0,4'b0000,P_MODE_SWITCH_IDLE,P_QUAD,P_QUAD,4'b0100});
#wb_user_core_write(`ADDR_SPACE_QSPI+`QSPIM_IMEM_CTRL2,{8'h0,2'b00,2'b00,P_FSM_C,8'h00,8'hFF});
#wb_user_core_write(`ADDR_SPACE_QSPI+`QSPIM_IMEM_WDATA,32'h0);

wm 3000001c 000000a4
wm 30000020 000000ff
wm 30000028 00000000


#CS#2 SSPI Indiect Write DATA 
#wb_user_core_write(`ADDR_SPACE_QSPI+`QSPIM_IMEM_CTRL1,{16'h0,1'b0,1'b0,4'b0000,P_MODE_SWITCH_IDLE,P_SINGLE,P_SINGLE,4'b0100});
#wb_user_core_write(`ADDR_SPACE_QSPI+`QSPIM_IMEM_CTRL2,{8'h10,2'b00,2'b10,P_FSM_CAW,8'h00,8'h02});
#wb_user_core_write(`ADDR_SPACE_QSPI+`QSPIM_IMEM_ADDR,32'h00000000);
#wb_user_core_write(`ADDR_SPACE_QSPI+`QSPIM_IMEM_WDATA,32'h00112233);
#wb_user_core_write(`ADDR_SPACE_QSPI+`QSPIM_IMEM_WDATA,32'h44556677);
#wb_user_core_write(`ADDR_SPACE_QSPI+`QSPIM_IMEM_WDATA,32'h8899AABB);
#wb_user_core_write(`ADDR_SPACE_QSPI+`QSPIM_IMEM_WDATA,32'hCCDDEEFF);

wm 3000001c 00000004
wm 30000020 10270002
wm 30000024 00000000
wm 30000028 00112233
wm 30000028 44556677
wm 30000028 8899aabb
wm 30000028 ccddeeff

#CS#2 SSPI Indirect READ DATA 
wb_user_core_write(`ADDR_SPACE_QSPI+`QSPIM_IMEM_CTRL1,{16'h0,1'b0,1'b0,4'b0000,P_MODE_SWITCH_IDLE,P_SINGLE,P_SINGLE,4'b0100});
wb_user_core_write(`ADDR_SPACE_QSPI+`QSPIM_IMEM_CTRL2,{8'h10,2'b00,2'b10,P_FSM_CADR,8'h00,8'h03});
wb_user_core_write(`ADDR_SPACE_QSPI+`QSPIM_IMEM_ADDR,32'h00000000);
wb_user_core_read_check(`ADDR_SPACE_QSPI+`QSPIM_IMEM_RDATA,read_data,32'h00112233);
wb_user_core_read_check(`ADDR_SPACE_QSPI+`QSPIM_IMEM_RDATA,read_data,32'h44556677);
wb_user_core_read_check(`ADDR_SPACE_QSPI+`QSPIM_IMEM_RDATA,read_data,32'h8899AABB);
wb_user_core_read_check(`ADDR_SPACE_QSPI+`QSPIM_IMEM_RDATA,read_data,32'hCCDDEEFF);

wm 3000001c 00000004
wm 30000020 10240003
wm 30000024 00000000
rm 3000002c
rm 3000002c
rm 3000002c
rm 3000002c
